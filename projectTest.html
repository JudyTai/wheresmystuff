<!DOCTYPE html>
<head>
<meta charset="utf-8">
<link rel="shortcut icon" href="">
<link href="./style.css" rel="stylesheet">

<!-- Bootstrap core CSS -->
<link href="./dist/css/bootstrap.css" rel="stylesheet">
<!-- Add jQuery library -->
<!--script type="text/javascript" src="./lib/jquery-1.10.1.min.js"></script>-->
<script type="text/javascript" src="http://code.jquery.com/jquery-git.js"></script>
<!-- Add mousewheel plugin (this is optional) -->
<script type="text/javascript" src="./lib/jquery.mousewheel-3.0.6.pack.js"></script>
<!-- Add fancyBox main JS and CSS files -->
<script type="text/javascript" src="./source/jquery.fancybox.js?v=2.1.5"></script>
<link rel="stylesheet" type="text/css" href="./source/jquery.fancybox.css?v=2.1.5" media="screen" />
<!-- Add Button helper (this is optional) -->
<link rel="stylesheet" type="text/css" href="./source/helpers/jquery.fancybox-buttons.css?v=1.0.5" />
<script type="text/javascript" src="./source/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<!-- Add Thumbnail helper (this is optional) -->
<link rel="stylesheet" type="text/css" href="./source/helpers/jquery.fancybox-thumbs.css?v=1.0.7" />
<script type="text/javascript" src="./source/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<!-- Add Media helper (this is optional) -->
<script type="text/javascript" src="./source/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<script type="text/javascript" src="./control.js"></script>

<script type="text/javascript">


$(document).ready(function() {
	/*Default: lost list*/
	changeList("Lost");
	$('map > area.fancybox').click(function(e) {
		changeBuilding("background");
		//localStorage.setItem("whichBuilding","background");
		alert("welcome");
		e.preventDefault();
        	var url = $(this).attr('href');
        	var title = $(this).attr('title');
        	var type = $(this).attr('rel');
       		$.fancybox({
  			'title': title,
          		'titlePosition': 'inside',
       	     		'href' : url,
           		'type' : type
      		});
	});

	$('.fancybox').fancybox();
	$("#single_1").fancybox({
        	helpers: {
    		 	title : {
                 		type : 'float'
              		}	
          	}
      	});

	$(".various").fancybox({
		maxWidth	: 800,
		maxHeight	: 600,
		fitToView	: false,
		width		: '70%',
		height		: '70%',
		autoSize	: false,
		closeClick	: false,
		openEffect	: 'none',
		closeEffect	: 'none'
	});
});
</script>

<style type="text/css">
	.fancybox-custom .fancybox-skin {
		box-shadow: 0 0 50px #222;
	}
</style>

<meta http-equiv="X-UA-Compatible" content="width=device-width,initial-scale=1">
<meta name="description" content="">
<meta name="viewport">
<meta name="author" content="">
<title> Where's my Stuff?</title>
</head>


<body align="center">
<script src="./our_secret.js"></script>	 
<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">

<script>
   	window.fbAsyncInit = function() {
        	// init the FB JS SDK
        	FB.init({
        		appId      : FacebookAppId,                        // App ID from the app dashboard
        		cookie     : true,                                 // Allowed server-side to fetch fb auth cookie
        		status     : true,                                 // Check Facebook Login status
        		xfbml      : true                                  // Look for social plugins on the page
        	});

        	// Additional initialization code such as adding Event Listeners goes here
        	window.fbLoaded();
    	};

    	// Load the SDK asynchronously
    	(function(d, s, id){
        	var js, fjs = d.getElementsByTagName(s)[0];
        	if (d.getElementById(id)) {return;}
        	js = d.createElement(s); js.id = id;
        	//js.src = "//connect.facebook.net/en_US/all.js";
        	// Debug version of Facebook JS SDK
        	js.src = "//connect.facebook.net/en_US/all/debug.js";
        	fjs.parentNode.insertBefore(js, fjs);
    	}(document, 'script', 'facebook-jssdk'));
</script>

<script>
	function changetolost(){
		var map=document.getElementById("NccuMap");
		map.style.borderColor='#357ebd';
	}
		                
	function changetofound(){                                                                   
                var map=document.getElementById("NccuMap");
		map.style.borderColor='#d43f3a';
       	}
</script>

<div id="wrap">
	<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        	<div class="container">
          		<div class="navbar-header">
            			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              				<span class="sr-only">Toggle navigation</span>
              				<span class="icon-bar"></span>
				        <span class="icon-bar"></span>
              				<span class="icon-bar"></span>
            			</button>
            		<a class="navbar-brand"><strong>Where's my stuff?</strong></a>
          		</div>
			<div>
	      			<ul class="nav navbar-nav">
              				<li class="active"><a href="#">Home</a></li>
			 	        <li><a href="#about">About</a></li>
              				<li><a href="#contact">Contact</a></li>
				</ul>
			</div>
			<div class="navbar-collapse collapse">
          			<form class="navbar-form navbar-right" role="form">
            				<button  id="my-login-button" class="btn btn-primary">Login with Facebook</button>
					<a id="my-login-message"></a>
          			</form>
        		</div> 	
		</div>
      	</div>
</div>

<div class="container">
	</br>
	</br>
	</br>	
	<div>
		<p>
			<button type="button" class="btn btn btn-primary" onclick= "changetolost();changeList('Lost')">lost</button>
        		<button type="button" class="btn btn btn-danger"  onclick= "changetofound();changeList('Found')" >found</button>	
		</p>
		<a class="various fancybox.iframe">
			<img id="NccuMap" src="./picture/nccumap.jpg" width="1024" height="678" usemap="#NCCU" />  
 			<map name="NCCU" id="map">
	  			<area shape="rect" coords="0,0,82,126" class="fancybox.iframe various" href="./list.html" rel="iframe" />
	  			<!area shape="rect" coords="200,200,400,400" alt="Mercury" href=""/>
	 			<!area shape="circle" coords="124,58,8" alt="Venus" href=""/>
      			</map>
		</a>
	</div>
</div>
	
<div id="footer">
	<div class="container">
        	<p class="text-muted">Place sticky footer content here.</p>
      	</div>
</div>

<script src="./dist/js/bootstrap.min.js"></script>

<!-- BLOCK: Your script playground -->
<script id="my-script-playground">
	window.fbLoaded = function(){
		// define the events when login status changed.
		FB.Event.subscribe('auth.login', function(response) {
                	// when user has been logged in, this block will be triggered.
                	var msg = "You're logged in.";
                	$("#my-login-message").html(msg);
                	console.log("Your login response:");
                	console.log(response);
                	// fetch the profile
                	fetch_my_profile();
            	});
            	// define the action when user clicked the login button.
           	$("#my-login-button").click(function(){
                	FB.login();
            	});
            	var fetch_my_profile = function () {
                	FB.api('/me', function(response) {
                    		var my_name = response.name;
                    		var my_gender = response.gender;
                    		var my_username = response.username;
                    		var my_facebook_id = response.id;
                    		$("#my-profile-name").html(my_name);
                    		$("#my-profile-gender").html(my_gender);
                    		$("#my-profile-username").html(my_username);
                    		$("#my-profile-facebook-id").html(my_facebook_id);
                	});
                	FB.api('/me/picture?width=250', function(response) {
                    		var my_picture_url = response.data.url;
                    		$("#my-profile-picture").attr('src', my_picture_url);
                	});
            	};
	};
</script>
<!-- EndBlock-->

</body>
</html>

